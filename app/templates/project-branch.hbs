{{#if project}}
  {{#if isLoadingBuilds}}
    Loading build data...
  {{else}}
    {{#bs-accordion as |acc|}}
      {{#acc.item value="-1" as |item|}}
        {{#item.title}}
          Build durations for {{project.displayName}}
        {{/item.title}}

        {{#item.body}}
          {{ci-perf-graph projectBuilds=validBuilds projectHasWorkflows=projectHasWorkflows title=mainGraphTitle}}
        {{/item.body}}
      {{/acc.item}}

      {{#each customGraphs as |graph|}}
        {{#acc.item value=graph.order as |item|}}
          {{#item.title}}
            {{graph.title}}
          {{/item.title}}

          {{#item.body}}
            {{custom-graph project=project projectBuilds=validBuilds graph=graph}}

            {{#if graph.isEditing}}
              {{#custom-graph-form model=graph submitLabel='Save' submitAction=(action 'saveCustomGraph' graph)}}
                {{#bs-button type="secondary" onClick=(action "toggleEditCustomGraph" graph)}}Cancel{{/bs-button}}
                {{#bs-button type="danger" onClick=(action "deleteCustomGraph" graph)}}Remove{{/bs-button}}
              {{/custom-graph-form}}
            {{else}}
              {{#bs-button type="primary" onClick=(action "toggleEditCustomGraph" graph)}}Edit{{/bs-button}}
              {{#bs-button type="danger" onClick=(action "deleteCustomGraph" graph)}}Remove{{/bs-button}}
            {{/if}}
          {{/item.body}}
        {{/acc.item}}
      {{/each}}
    {{/bs-accordion}}

    {{#if isAddingCustomGraph}}
      {{#custom-graph-form title='New custom graph' submitLabel='Add' model=newCustomGraph submitAction=(action 'addCustomGraph')}}
        {{#bs-button type="secondary" onClick=(action 'toggleAddCustomGraph')}}Cancel{{/bs-button}}
      {{/custom-graph-form}}
    {{else}}
      {{#bs-button type="primary" onClick=(action 'toggleAddCustomGraph')}}Add custom graph{{/bs-button}}
    {{/if}}
  {{/if}}
{{/if}}
